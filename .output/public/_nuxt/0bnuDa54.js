import{_ as L}from"./DhFM9gd9.js";import{h as P,e as A,g as u,x as N,r as V,u as $,c as l,j as e,a as t,b as D,w as S,k as i,t as n,F as w,p as _,z as G,n as x,d as k,o as a}from"./DgqYF9Mv.js";import{a as T,c as R,b as U}from"./7cJgWEUV.js";import{u as E}from"./qH4YeTVH.js";const I={class:"py-8"},Q={key:0,class:"flex items-center justify-center min-h-[50vh]"},W={key:1,class:"text-center py-16"},H={key:2,class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Z={class:"lg:col-span-2 space-y-4"},q={class:"relative aspect-video rounded-lg overflow-hidden bg-card"},J=["src","alt"],K={class:"absolute top-4 left-4 flex gap-2"},O={key:0,class:"badge badge-discount text-sm"},X={key:1,class:"badge badge-cashback text-sm"},Y={key:0,class:"flex gap-2 overflow-x-auto scrollbar-hide"},tt=["onClick"],et=["src","alt"],st={class:"bg-card rounded-lg p-6"},ot={class:"text-muted leading-relaxed"},nt={class:"bg-card rounded-lg p-6"},lt={class:"grid grid-cols-2 gap-4"},at={class:"text-white"},rt={class:"text-white"},it={class:"text-white"},dt={class:"text-white"},ct={class:"text-accent"},ut={class:"text-white"},mt={key:0,class:"mt-4"},pt={class:"flex flex-wrap gap-2"},gt={class:"lg:col-span-1"},xt={class:"sticky top-24 bg-card rounded-lg p-6 space-y-6"},ht={class:"text-white text-xl font-bold mb-2"},vt={class:"flex items-center gap-2 text-sm"},wt={class:"text-muted"},_t={class:"text-accent"},kt={class:"flex items-end gap-3"},bt={class:"text-white text-3xl font-bold"},ft={key:0,class:"text-muted text-lg line-through"},yt={key:0,class:"bg-accent/10 border border-accent/30 rounded-lg p-4"},Ct={class:"flex items-center gap-2 text-accent"},Mt={class:"font-medium"},jt={class:"text-muted text-sm mt-1"},Bt={class:"space-y-3"},zt=["fill"],Dt=P({__name:"[slug]",async setup(Ft){let d,h;const b=A(),{formatPrice:m}=T(),{addToCart:f,isInCart:y}=R(),{toggleFavorite:C,isFavorite:M}=U(),j=u(()=>b.params.slug),{data:o,pending:B,error:z}=([d,h]=N(()=>E(`/api/games/${j.value}`,"$m1kpQZQexn")),d=await d,h(),d),v=u(()=>o.value?y(o.value.id):!1),p=u(()=>o.value?M(o.value.id):!1),g=V(0);return $({title:u(()=>o.value?`${o.value.title} - Eneba`:"Loading...")}),(Lt,s)=>{const F=L;return a(),l("div",I,[e(B)?(a(),l("div",Q,[...s[2]||(s[2]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-4 border-accent border-t-transparent"},null,-1)])])):e(z)||!e(o)?(a(),l("div",W,[s[4]||(s[4]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 mx-auto text-muted mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s[5]||(s[5]=t("h2",{class:"text-white text-xl font-medium mb-2"},"Game Not Found",-1)),s[6]||(s[6]=t("p",{class:"text-muted mb-6"},"The game you're looking for doesn't exist.",-1)),D(F,{to:"/list",class:"btn btn-primary"},{default:S(()=>[...s[3]||(s[3]=[k(" Browse Games ",-1)])]),_:1})])):(a(),l("div",H,[t("div",Z,[t("div",q,[t("img",{src:e(o).screenshots?.[e(g)]||e(o).image,alt:e(o).title,class:"w-full h-full object-cover"},null,8,J),t("div",K,[e(o).discount>0?(a(),l("span",O," -"+n(e(o).discount)+"% ",1)):i("",!0),e(o).hasCashback?(a(),l("span",X,n(e(o).cashbackPercent)+"% Cashback ",1)):i("",!0)])]),e(o).screenshots?.length?(a(),l("div",Y,[(a(!0),l(w,null,_(e(o).screenshots,(r,c)=>(a(),l("button",{key:c,class:x(["shrink-0 w-24 h-16 rounded overflow-hidden border-2 transition-all",e(g)===c?"border-accent":"border-transparent opacity-70 hover:opacity-100"]),onClick:Pt=>g.value=c},[t("img",{src:r,alt:`Screenshot ${c+1}`,class:"w-full h-full object-cover"},null,8,et)],10,tt))),128))])):i("",!0),t("div",st,[s[7]||(s[7]=t("h2",{class:"text-white text-lg font-medium mb-4"},"About this game",-1)),t("p",ot,n(e(o).description),1)]),t("div",nt,[s[15]||(s[15]=t("h2",{class:"text-white text-lg font-medium mb-4"},"Game Details",-1)),t("dl",lt,[t("div",null,[s[8]||(s[8]=t("dt",{class:"text-muted text-sm"},"Developer",-1)),t("dd",at,n(e(o).developer||"Unknown"),1)]),t("div",null,[s[9]||(s[9]=t("dt",{class:"text-muted text-sm"},"Publisher",-1)),t("dd",rt,n(e(o).publisher||"Unknown"),1)]),t("div",null,[s[10]||(s[10]=t("dt",{class:"text-muted text-sm"},"Release Date",-1)),t("dd",it,n(e(o).releaseDate||"Unknown"),1)]),t("div",null,[s[11]||(s[11]=t("dt",{class:"text-muted text-sm"},"Platform",-1)),t("dd",dt,n(e(o).platform),1)]),t("div",null,[s[12]||(s[12]=t("dt",{class:"text-muted text-sm"},"Region",-1)),t("dd",ct,n(e(o).region),1)]),t("div",null,[s[13]||(s[13]=t("dt",{class:"text-muted text-sm"},"Type",-1)),t("dd",ut,n(e(o).productType),1)])]),e(o).genres?.length?(a(),l("div",mt,[s[14]||(s[14]=t("dt",{class:"text-muted text-sm mb-2"},"Genres",-1)),t("dd",pt,[(a(!0),l(w,null,_(e(o).genres,r=>(a(),l("span",{key:r,class:"tag"},n(r),1))),128))])])):i("",!0)])]),t("div",gt,[t("div",xt,[t("div",null,[t("h1",ht,n(e(o).title),1),t("div",vt,[t("span",wt,n(e(o).platform),1),s[16]||(s[16]=t("span",{class:"text-muted"},"|",-1)),t("span",_t,n(e(o).region),1)])]),t("div",kt,[t("span",bt,n(e(m)(e(o).price)),1),e(o).discount>0?(a(),l("span",ft,n(e(m)(e(o).originalPrice)),1)):i("",!0)]),e(o).hasCashback?(a(),l("div",yt,[t("div",Ct,[s[17]||(s[17]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("span",Mt,"Up to "+n(e(o).cashbackPercent)+"% Cashback",1)]),t("p",jt," Get up to "+n(e(m)(e(o).price*e(o).cashbackPercent/100))+" back! ",1)])):i("",!0),t("div",Bt,[t("button",{class:x(["w-full btn text-lg py-3",e(v)?"bg-green-500 text-white":"btn-primary"]),onClick:s[0]||(s[0]=r=>e(f)(e(o)))},n(e(v)?"Added to Cart":"Add to Cart"),3),t("button",{class:"w-full btn btn-outline flex items-center justify-center gap-2",onClick:s[1]||(s[1]=r=>e(C)(e(o)))},[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:x(["h-5 w-5",e(p)?"text-red-500":""]),fill:e(p)?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...s[18]||(s[18]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)])],10,zt)),k(" "+n(e(p)?"Remove from Wishlist":"Add to Wishlist"),1)])]),s[19]||(s[19]=G('<div class="border-t border-white/10 pt-6 space-y-3"><div class="flex items-center gap-3 text-muted text-sm"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg><span>Secure Payment</span></div><div class="flex items-center gap-3 text-muted text-sm"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg><span>Instant Delivery</span></div><div class="flex items-center gap-3 text-muted text-sm"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path></svg><span>24/7 Support</span></div></div>',1))])])]))])}}});export{Dt as default};
