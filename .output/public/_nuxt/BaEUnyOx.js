import{e as I,f as J,g as T,h as C,r as P,i as U,c,o as u,a as s,b,j as o,t as h,n as $,T as j,w as E,k as B,l as q,m as z,v as D,F,p as A,q as K,s as X,d as W,x as Q,u as Y}from"./DgqYF9Mv.js";import{u as Z,a as S}from"./7cJgWEUV.js";import{_ as ee}from"./BUgZS04M.js";import{u as te}from"./qH4YeTVH.js";import"./DhFM9gd9.js";const G=()=>{const g=I(),m=J(),e=Z("filters",()=>({search:"",minPrice:void 0,maxPrice:void 0,countries:[],productTypes:[],platforms:[],genres:[],regions:[],sortBy:"popularity"})),f=[{value:"DLC",label:"DLC",count:248},{value:"Game",label:"Game",count:178},{value:"Game Points",label:"Game points",count:35},{value:"Subscription",label:"Subscription",count:6},{value:"Software",label:"Software",count:2},{value:"eGift Card",label:"eGift Cards",count:1}],v=[{value:"Steam",label:"Steam",count:156},{value:"Xbox",label:"Xbox",count:89},{value:"PlayStation",label:"PlayStation",count:67},{value:"Nintendo",label:"Nintendo",count:45},{value:"Epic",label:"Epic Games",count:34},{value:"Origin",label:"Origin/EA",count:23},{value:"GOG",label:"GOG",count:18},{value:"Uplay",label:"Ubisoft",count:15}],i=[{value:"action",label:"Action",count:145},{value:"adventure",label:"Adventure",count:123},{value:"rpg",label:"RPG",count:98},{value:"shooter",label:"Shooter",count:87},{value:"strategy",label:"Strategy",count:76},{value:"simulation",label:"Simulation",count:65},{value:"sports",label:"Sports",count:54},{value:"racing",label:"Racing",count:43},{value:"puzzle",label:"Puzzle",count:32},{value:"horror",label:"Horror",count:28},{value:"sandbox",label:"Sandbox",count:24},{value:"survival",label:"Survival",count:21}],r=[{value:"GLOBAL",label:"Global"},{value:"EU",label:"Europe"},{value:"US",label:"United States"},{value:"UK",label:"United Kingdom"},{value:"TR",label:"Turkey"},{value:"DE",label:"Germany"},{value:"LATAM",label:"Latin America"},{value:"ASIA",label:"Asia"}],d=[{value:"popularity",label:"Most Popular"},{value:"price-asc",label:"Price: Low to High"},{value:"price-desc",label:"Price: High to Low"},{value:"newest",label:"Newest"},{value:"discount",label:"Biggest Discount"}],n=["All countries","Germany","United States","United Kingdom","France","Turkey","Poland","Brazil","Russia","Japan"],l=()=>{const t=g.query;e.value={search:t.search||"",minPrice:t.minPrice?Number(t.minPrice):void 0,maxPrice:t.maxPrice?Number(t.maxPrice):void 0,countries:t.countries?t.countries.split(","):[],productTypes:t.types?t.types.split(","):[],platforms:t.platforms?t.platforms.split(","):[],genres:t.genres?t.genres.split(","):[],regions:t.regions?t.regions.split(","):[],sortBy:t.sort||"popularity"}},a=()=>{const t={};e.value.search&&(t.search=e.value.search),e.value.minPrice&&(t.minPrice=String(e.value.minPrice)),e.value.maxPrice&&(t.maxPrice=String(e.value.maxPrice)),e.value.countries?.length&&(t.countries=e.value.countries.join(",")),e.value.productTypes?.length&&(t.types=e.value.productTypes.join(",")),e.value.platforms?.length&&(t.platforms=e.value.platforms.join(",")),e.value.genres?.length&&(t.genres=e.value.genres.join(",")),e.value.regions?.length&&(t.regions=e.value.regions.join(",")),e.value.sortBy&&e.value.sortBy!=="popularity"&&(t.sort=e.value.sortBy),m.push({query:t})},p=t=>{e.value.search=t,a()},x=(t,y)=>{e.value.minPrice=t,e.value.maxPrice=y,a()},_=t=>{(e.value.productTypes?.indexOf(t)??-1)===-1?e.value.productTypes=[...e.value.productTypes||[],t]:e.value.productTypes=e.value.productTypes?.filter(k=>k!==t),a()},M=t=>{(e.value.platforms?.indexOf(t)??-1)===-1?e.value.platforms=[...e.value.platforms||[],t]:e.value.platforms=e.value.platforms?.filter(k=>k!==t),a()},L=t=>{(e.value.genres?.indexOf(t)??-1)===-1?e.value.genres=[...e.value.genres||[],t]:e.value.genres=e.value.genres?.filter(k=>k!==t),a()},w=t=>{e.value.sortBy=t,a()},V=t=>{t==="All countries"?e.value.countries=[]:e.value.countries=[t],a()},O=()=>{e.value={search:"",minPrice:void 0,maxPrice:void 0,countries:[],productTypes:[],platforms:[],genres:[],regions:[],sortBy:"popularity"},m.push({query:{}})},R=T(()=>!!e.value.search||e.value.minPrice!==void 0||e.value.maxPrice!==void 0||(e.value.countries?.length??0)>0||(e.value.productTypes?.length??0)>0||(e.value.platforms?.length??0)>0||(e.value.genres?.length??0)>0||(e.value.regions?.length??0)>0),N=T(()=>{const t=[];return e.value.search&&t.push({key:"search",label:"Text",value:e.value.search}),e.value.productTypes?.forEach(y=>{t.push({key:`type-${y}`,label:"Type",value:y})}),e.value.platforms?.forEach(y=>{t.push({key:`platform-${y}`,label:"Platform",value:y})}),e.value.genres?.forEach(y=>{t.push({key:`genre-${y}`,label:"Genre",value:y})}),t});return{filters:e,productTypes:f,platforms:v,genres:i,regions:r,sortOptions:d,countries:n,initFiltersFromUrl:l,setSearch:p,setPriceRange:x,toggleProductType:_,togglePlatform:M,toggleGenre:L,setSort:w,setCountry:V,clearAllFilters:O,hasActiveFilters:R,activeFilterTags:N,removeFilterTag:t=>{if(t==="search")e.value.search="";else if(t.startsWith("type-")){const y=t.replace("type-","");e.value.productTypes=e.value.productTypes?.filter(k=>k!==y)}else if(t.startsWith("platform-")){const y=t.replace("platform-","");e.value.platforms=e.value.platforms?.filter(k=>k!==y)}else if(t.startsWith("genre-")){const y=t.replace("genre-","");e.value.genres=e.value.genres?.filter(k=>k!==y)}a()}}},se={class:"filter-section"},oe={key:0,class:"px-4 pt-3"},le={class:"flex items-center gap-2"},ae=["placeholder"],ne=["placeholder"],re=C({__name:"PriceFilter",setup(g){const{filters:m,setPriceRange:e}=G(),{t:f,currentCurrency:v}=S(),i=P(!0),r=P(""),d=P("");U(()=>m.value,p=>{r.value=p.minPrice?.toString()??"",d.value=p.maxPrice?.toString()??""},{immediate:!0});const n=()=>{const p=r.value?parseFloat(r.value):void 0,x=d.value?parseFloat(d.value):void 0;e(p,x)};let l=null;const a=()=>{l&&clearTimeout(l),l=setTimeout(n,500)};return(p,x)=>(u(),c("div",se,[s("button",{class:"filter-title w-full px-4",onClick:x[0]||(x[0]=_=>i.value=!o(i))},[s("span",null,h(o(f)("priceRange"))+" ("+h(o(v).code)+")",1),(u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",class:$(["h-4 w-4 text-muted transition-transform",{"rotate-180":!o(i)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...x[3]||(x[3]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)])],2))]),b(j,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:E(()=>[o(i)?(u(),c("div",oe,[s("div",le,[q(s("input",{"onUpdate:modelValue":x[1]||(x[1]=_=>z(r)?r.value=_:null),type:"number",placeholder:o(v).symbol,class:"w-full px-3 py-2 bg-primary-950 border border-white/20 rounded text-white text-sm placeholder-muted focus:outline-none focus:border-white/40",min:"0",onInput:a},null,40,ae),[[D,o(r)]]),x[4]||(x[4]=s("span",{class:"text-muted"},"-",-1)),q(s("input",{"onUpdate:modelValue":x[2]||(x[2]=_=>z(d)?d.value=_:null),type:"number",placeholder:o(v).symbol,class:"w-full px-3 py-2 bg-primary-950 border border-white/20 rounded text-white text-sm placeholder-muted focus:outline-none focus:border-white/40",min:"0",onInput:a},null,40,ne),[[D,o(d)]])])])):B("",!0)]),_:1})]))}}),ie={class:"filter-section"},ce={key:0,class:"px-4 pt-3"},ue=["value"],de=["value"],pe=C({__name:"CountryFilter",setup(g){const{filters:m,countries:e,setCountry:f}=G(),{t:v}=S(),i=P(!0),r=P("All countries");U(()=>m.value.countries,n=>{r.value=n?.length?n[0]:"All countries"},{immediate:!0});const d=n=>{const l=n.target;f(l.value)};return(n,l)=>(u(),c("div",ie,[s("button",{class:"filter-title w-full px-4",onClick:l[0]||(l[0]=a=>i.value=!o(i))},[s("span",null,h(o(v)("country")),1),(u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",class:$(["h-4 w-4 text-muted transition-transform",{"rotate-180":!o(i)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...l[1]||(l[1]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)])],2))]),b(j,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:E(()=>[o(i)?(u(),c("div",ce,[s("select",{value:o(r),class:"w-full px-3 py-2 bg-primary-950 border border-white/20 rounded text-white text-sm focus:outline-none focus:border-white/40 cursor-pointer",onChange:d},[(u(!0),c(F,null,A(o(e),a=>(u(),c("option",{key:a,value:a},h(a==="All countries"?o(v)("allCountries"):a),9,de))),128))],40,ue)])):B("",!0)]),_:1})]))}}),ve={class:"filter-section"},me={key:0,class:"px-4 pt-3 space-y-2"},he=["checked","onChange"],fe={class:"flex-1"},ge={class:"text-muted text-sm"},xe=C({__name:"ProductTypeFilter",setup(g){const{filters:m,productTypes:e,toggleProductType:f}=G(),{t:v}=S(),i=P(!0),r=d=>m.value.productTypes?.includes(d)??!1;return(d,n)=>(u(),c("div",ve,[s("button",{class:"filter-title w-full px-4",onClick:n[0]||(n[0]=l=>i.value=!o(i))},[s("span",null,h(o(v)("productType")),1),(u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",class:$(["h-4 w-4 text-muted transition-transform",{"rotate-180":!o(i)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...n[1]||(n[1]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)])],2))]),b(j,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:E(()=>[o(i)?(u(),c("div",me,[(u(!0),c(F,null,A(o(e),l=>(u(),c("label",{key:l.value,class:"checkbox-label"},[s("input",{type:"checkbox",checked:r(l.value),class:"w-4 h-4 rounded border-white/30 bg-transparent text-accent focus:ring-accent focus:ring-offset-0",onChange:a=>o(f)(l.value)},null,40,he),s("span",fe,h(l.label),1),s("span",ge,h(l.count),1)]))),128))])):B("",!0)]),_:1})]))}}),ye={class:"filter-section"},be={key:0,class:"px-4 pt-3 space-y-2"},we=["checked","onChange"],_e={class:"flex-1"},ke={class:"text-muted text-sm"},Pe=C({__name:"PlatformFilter",setup(g){const{filters:m,platforms:e,togglePlatform:f}=G(),{t:v}=S(),i=P(!0),r=d=>m.value.platforms?.includes(d)??!1;return(d,n)=>(u(),c("div",ye,[s("button",{class:"filter-title w-full px-4",onClick:n[0]||(n[0]=l=>i.value=!o(i))},[s("span",null,h(o(v)("platform")),1),(u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",class:$(["h-4 w-4 text-muted transition-transform",{"rotate-180":!o(i)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...n[1]||(n[1]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)])],2))]),b(j,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:E(()=>[o(i)?(u(),c("div",be,[(u(!0),c(F,null,A(o(e),l=>(u(),c("label",{key:l.value,class:"checkbox-label"},[s("input",{type:"checkbox",checked:r(l.value),class:"w-4 h-4 rounded border-white/30 bg-transparent text-accent focus:ring-accent focus:ring-offset-0",onChange:a=>o(f)(l.value)},null,40,we),s("span",_e,h(l.label),1),s("span",ke,h(l.count),1)]))),128))])):B("",!0)]),_:1})]))}}),$e={class:"filter-section border-b-0"},Ce={key:0,class:"px-4 pt-3"},Se={class:"relative mb-3"},Te={class:"space-y-2 max-h-48 overflow-y-auto scrollbar-hide"},Fe=["checked","onChange"],Be={class:"flex-1"},Ge={class:"text-muted text-sm"},Ae=C({__name:"GenreFilter",setup(g){const{filters:m,genres:e,toggleGenre:f}=G(),{t:v}=S(),i=P(!0),r=P(""),d=T(()=>r.value?e.filter(l=>l.label.toLowerCase().includes(r.value.toLowerCase())):e),n=l=>m.value.genres?.includes(l)??!1;return(l,a)=>(u(),c("div",$e,[s("button",{class:"filter-title w-full px-4",onClick:a[0]||(a[0]=p=>i.value=!o(i))},[s("span",null,h(o(v)("genre")),1),(u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",class:$(["h-4 w-4 text-muted transition-transform",{"rotate-180":!o(i)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...a[2]||(a[2]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)])],2))]),b(j,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 -translate-y-2"},{default:E(()=>[o(i)?(u(),c("div",Ce,[s("div",Se,[q(s("input",{"onUpdate:modelValue":a[1]||(a[1]=p=>z(r)?r.value=p:null),type:"text",placeholder:"Search genres...",class:"w-full px-3 py-2 bg-primary-950 border border-white/20 rounded text-white text-sm placeholder-muted focus:outline-none focus:border-white/40"},null,512),[[D,o(r)]]),a[3]||(a[3]=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 absolute right-3 top-1/2 -translate-y-1/2 text-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),s("div",Te,[(u(!0),c(F,null,A(o(d),p=>(u(),c("label",{key:p.value,class:"checkbox-label"},[s("input",{type:"checkbox",checked:n(p.value),class:"w-4 h-4 rounded border-white/30 bg-transparent text-accent focus:ring-accent focus:ring-offset-0",onChange:x=>o(f)(p.value)},null,40,Fe),s("span",Be,h(p.label),1),s("span",Ge,h(p.count),1)]))),128))])])):B("",!0)]),_:1})]))}}),je={class:"w-[220px] shrink-0"},Ee={class:"sticky top-20 space-y-0 bg-filter rounded-lg overflow-hidden"},Me=C({__name:"FilterSidebar",setup(g){return S(),(m,e)=>{const f=re,v=pe,i=xe,r=Pe,d=Ae;return u(),c("aside",je,[s("div",Ee,[b(f),b(v),b(i),b(r),b(d)])])}}}),Ue={key:0,class:"flex flex-wrap items-center gap-2 mb-4"},Le={class:"text-muted-light"},Oe={class:"text-white"},Re=["onClick"],Ne=C({__name:"ActiveFilters",setup(g){const{hasActiveFilters:m,activeFilterTags:e,removeFilterTag:f,clearAllFilters:v}=G(),{t:i}=S();return(r,d)=>o(m)?(u(),c("div",Ue,[(u(!0),c(F,null,A(o(e),n=>(u(),c("div",{key:n.key,class:"tag"},[s("span",Le,h(n.label)+":",1),s("span",Oe,h(n.value),1),s("button",{class:"text-muted hover:text-white transition-colors",onClick:l=>o(f)(n.key)},[...d[1]||(d[1]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Re)]))),128)),s("button",{class:"text-accent hover:text-accent-400 text-sm font-medium transition-colors",onClick:d[0]||(d[0]=(...n)=>o(v)&&o(v)(...n))},h(o(i)("clearAll")),1)])):B("",!0)}}),qe={class:"sort-dropdown relative"},ze={class:"text-white text-sm"},De={class:"font-medium"},Ve={key:0,class:"absolute top-full right-0 mt-2 w-48 bg-primary-950 border border-white/10 rounded-lg shadow-xl overflow-hidden z-50"},He={class:"py-1"},Ie=["onClick"],Ke=C({__name:"SortDropdown",setup(g){const{filters:m,sortOptions:e,setSort:f}=G(),{t:v}=S(),i=P(!1),r=T(()=>e.find(a=>a.value===m.value.sortBy)?.label||v("popularity")),d=l=>{f(l),i.value=!1},n=l=>{l.target.closest(".sort-dropdown")||(i.value=!1)};return K(()=>{document.addEventListener("click",n)}),X(()=>{document.removeEventListener("click",n)}),(l,a)=>(u(),c("div",qe,[s("button",{class:"flex items-center gap-2 px-4 py-2 bg-white/10 rounded-lg hover:bg-white/15 transition-colors",onClick:a[0]||(a[0]=p=>i.value=!o(i))},[a[2]||(a[2]=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})],-1)),s("span",ze,[W(h(o(v)("sortBy"))+": ",1),s("span",De,h(o(r)),1)]),(u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",class:$(["h-4 w-4 text-muted transition-transform",{"rotate-180":o(i)}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...a[1]||(a[1]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),b(j,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 translate-y-1","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-1"},{default:E(()=>[o(i)?(u(),c("div",Ve,[s("ul",He,[(u(!0),c(F,null,A(o(e),p=>(u(),c("li",{key:p.value},[s("button",{class:$(["w-full px-4 py-2 text-left text-sm transition-colors",[o(m).sortBy===p.value?"bg-accent/20 text-accent":"text-white hover:bg-white/10"]]),onClick:x=>d(p.value)},h(p.label),11,Ie)]))),128))])])):B("",!0)]),_:1})]))}}),We={key:0,class:"flex items-center justify-center gap-2 mt-8"},Je=["disabled"],Xe={class:"flex items-center gap-1"},Qe={key:0,class:"px-2 text-muted"},Ye=["onClick"],Ze=["disabled"],et=C({__name:"Pagination",props:{currentPage:{},totalPages:{},totalItems:{}},emits:["update:currentPage"],setup(g,{emit:m}){const e=g,f=m,v=T(()=>{const n=[],l=e.currentPage,a=e.totalPages;if(a<=7)for(let p=1;p<=a;p++)n.push(p);else{n.push(1),l>3&&n.push("...");const p=Math.max(2,l-1),x=Math.min(a-1,l+1);for(let _=p;_<=x;_++)n.push(_);l<a-2&&n.push("..."),n.push(a)}return n}),i=n=>{n>=1&&n<=e.totalPages&&n!==e.currentPage&&f("update:currentPage",n)},r=()=>{e.currentPage>1&&i(e.currentPage-1)},d=()=>{e.currentPage<e.totalPages&&i(e.currentPage+1)};return(n,l)=>g.totalPages>1?(u(),c("nav",We,[s("button",{class:$(["flex items-center gap-1 px-3 py-2 rounded-lg transition-colors",[g.currentPage===1?"text-muted cursor-not-allowed":"text-white hover:bg-white/10"]]),disabled:g.currentPage===1,onClick:r},[...l[0]||(l[0]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),s("span",{class:"hidden sm:inline"},"Previous",-1)])],10,Je),s("div",Xe,[(u(!0),c(F,null,A(o(v),(a,p)=>(u(),c(F,{key:p},[a==="..."?(u(),c("span",Qe," ... ")):(u(),c("button",{key:1,class:$(["min-w-[40px] h-10 rounded-lg font-medium transition-colors",[g.currentPage===a?"bg-accent text-primary-950":"text-white hover:bg-white/10"]]),onClick:x=>i(a)},h(a),11,Ye))],64))),128))]),s("button",{class:$(["flex items-center gap-1 px-3 py-2 rounded-lg transition-colors",[g.currentPage===g.totalPages?"text-muted cursor-not-allowed":"text-white hover:bg-white/10"]]),disabled:g.currentPage===g.totalPages,onClick:d},[...l[1]||(l[1]=[s("span",{class:"hidden sm:inline"},"Next",-1),s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],10,Ze)])):B("",!0)}}),tt={class:"py-8"},st={class:"text-2xl md:text-3xl font-bold text-white mb-6"},ot={class:"flex gap-6"},lt={class:"flex-1 min-w-0"},at={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6"},nt={class:"text-muted"},rt={class:"text-white font-medium"},vt=C({__name:"list",async setup(g){let m,e;const f=I(),{t:v}=S(),{initFiltersFromUrl:i,filters:r}=G();K(()=>{i()}),U(()=>f.query,()=>{i()});const d=P(1),n=T(()=>{const w={page:String(d.value),perPage:"20"};return r.value.search&&(w.search=r.value.search),r.value.minPrice&&(w.minPrice=String(r.value.minPrice)),r.value.maxPrice&&(w.maxPrice=String(r.value.maxPrice)),r.value.productTypes?.length&&(w.types=r.value.productTypes.join(",")),r.value.platforms?.length&&(w.platforms=r.value.platforms.join(",")),r.value.genres?.length&&(w.genres=r.value.genres.join(",")),r.value.sortBy&&(w.sort=r.value.sortBy),w}),{data:l,pending:a,error:p,refresh:x}=([m,e]=Q(()=>te("/api/list",{query:n,watch:[n]},"$pKipdJxnxU")),m=await m,e(),m),_=T(()=>l.value?.data||[]),M=T(()=>l.value?.meta||{total:0,page:1,perPage:20,lastPage:1}),L=w=>{d.value=w,window.scrollTo({top:0,behavior:"smooth"})};return U(()=>r.value,()=>{d.value=1},{deep:!0}),Y({title:r.value.search?`Search: ${r.value.search} - Eneba`:"Games & Gift Cards - Eneba"}),(w,V)=>{const O=Me,R=Ne,N=Ke,H=ee,t=et;return u(),c("div",tt,[s("h1",st,h(o(v)("pageTitle")),1),s("div",ot,[b(O,{class:"hidden lg:block"}),s("div",lt,[b(R),s("div",at,[s("p",nt,[W(h(o(v)("searchResults"))+": ",1),s("span",rt,h(o(M).total),1)]),b(N)]),b(H,{games:o(_),loading:o(a)},null,8,["games","loading"]),b(t,{"current-page":o(d),"total-pages":o(M).lastPage,"total-items":o(M).total,"onUpdate:currentPage":L},null,8,["current-page","total-pages","total-items"])])])])}}});export{vt as default};
